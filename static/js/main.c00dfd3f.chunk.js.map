{"version":3,"sources":["components/Product/Product.tsx","Actions/actions.ts","components/ProductList/productList.tsx","components/CartItem/CartItem.tsx","components/Cart/Cart.tsx","reducer/ShopReducer.ts","components/Shop/Shop.tsx","hooks/useProducts.ts","App.tsx","reportWebVitals.js","index.js"],"names":["Product","product","handleAddToCart","className","alt","width","src","assets","detail","file","url","name","price","onClick","addItemToCart","item","type","payload","ProductList","products","useContext","ShopContext","state","dispatch","useEffect","length","forEach","element","productList","map","sku","CartItem","removeItemFromCart","amount","Cart","addItem","removeItem","cartList","count","totalPrice","findAndAddAmount","productToFound","founded","find","findAndRemoveOrDecreaseAmount","reduce","acc","ShopReducer","action","React","createContext","Shop","useReducer","useState","setProducts","loading","setLoading","setTimeout","useProducts","Provider","value","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c00dfd3f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { listProductProps } from '../../types/types'\r\nimport './Product.css'\r\n\r\nconst Product: React.FC<listProductProps> = ({ product, handleAddToCart }) => {\r\n\r\n    return (\r\n        <div className=\"product-item\">\r\n            <img alt='alt' width=\"50\" src={product.assets.detail.file.url} />\r\n            <label>{product.name}</label>\r\n            <label>${product.price}</label>\r\n            <button onClick={() => handleAddToCart(product)}> Buy Me!!</button>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Product;","import { Product, Action, TypeAction } from '../types/types';\r\nexport const addItemToCart = (item: Product): Action<TypeAction> => {\r\n  return {\r\n    type: 'ADD_TO_CART',\r\n    payload: item,\r\n  };\r\n};\r\n\r\nexport const removeItemToCart = (sku: string): Action<TypeAction> => {\r\n  return {\r\n    type: 'REMOVE_TO_CART',\r\n    payload: sku,\r\n  };\r\n};\r\n\r\nexport const addItemToList = (item: Product): Action<TypeAction> => {\r\n  return {\r\n    type: 'ADD_TO_LIST',\r\n    payload: item,\r\n  };\r\n};\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Product as ProductType } from '../../types/types'\r\nimport { ShopContext } from '../Shop/Shop';\r\nimport Product from '../Product/Product';\r\nimport { addItemToList, addItemToCart } from '../../Actions/actions';\r\nimport './productList.css';\r\n\r\ntype ProductLustProps = { products: ProductType[] | undefined };\r\n\r\nconst ProductList: React.FC<ProductLustProps> = ({ products }) => {\r\n    const { state, dispatch } = useContext(ShopContext);\r\n    useEffect(() => {\r\n        if (products?.length) {\r\n            products.forEach(element => {\r\n                dispatch(addItemToList(element))\r\n            });\r\n        }\r\n    }, [products, dispatch]);\r\n\r\n    const handleAddToCart = (product: ProductType) => {\r\n        dispatch(addItemToCart(product));\r\n    }\r\n    return (\r\n        <div className=\"product-list\">\r\n            {state.productList && state.productList.map((product: ProductType) => <Product key={product.sku} product={product} handleAddToCart={handleAddToCart} />)}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default ProductList;","import React from 'react';\r\nimport { CartItemProps } from '../../types/types';\r\nimport './CartItem.css';\r\n\r\nconst CartItem: React.FC<CartItemProps> = ({ product, addItemToCart, removeItemFromCart }) => {\r\n\r\n    if (!product) return <div />\r\n\r\n    return (\r\n        <div className=\"cart-item-container\">\r\n            <img alt=\"none\" width=\"50\" src={product.assets.detail.file.url} />\r\n            <label>{product.name}</label>\r\n            <label>${product.price}</label>\r\n\r\n            <div className=\"button-container\">\r\n                <button onClick={() => removeItemFromCart(product.sku)}> - </button>\r\n                <label>{product.amount}</label>\r\n                <button onClick={() => addItemToCart(product)}> +</button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default CartItem;","import React, { useContext } from 'react';\r\nimport CartItem from '../CartItem/CartItem';\r\nimport { ShopContext } from '../Shop/Shop';\r\nimport { Product } from '../../types/types';\r\nimport { addItemToCart as addItem, removeItemToCart as removeItem } from '../../Actions/actions';\r\nimport './Cart.css'\r\nconst Cart: React.FC = () => {\r\n\r\n    const { state, dispatch } = useContext(ShopContext);\r\n\r\n    const addItemToCart = (product: Product) => {\r\n        dispatch(addItem(product));\r\n    }\r\n    const removeItemFromCart = (sku: string) => {\r\n        dispatch(removeItem(sku));\r\n    }\r\n\r\n    return (\r\n        <div className=\"cart-container\">\r\n            <div className=\"cart-title\"> Cart </div>\r\n            <div className=\"cart-list-container\">\r\n                {state.cartList.products && state.cartList.products.map((item: Product) => <CartItem key={item.sku} product={item} addItemToCart={addItemToCart} removeItemFromCart={removeItemFromCart} />)}\r\n            </div>\r\n            <div className=\"cart-list-totals\">\r\n                <div className=\"cart-list-count\">{state.cartList.count} Items</div>\r\n                <div className=\"cart-list-total-price\">\r\n                    Total :  ${state.cartList.totalPrice}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Cart;","import { Action, ShopStore, TypeAction, Product } from '../types/types';\r\n\r\nconst findAndAddAmount = (products: Product[], productToFound: Product): Product[] => {\r\n  const founded = products.find((product) => product.sku === productToFound.sku);\r\n  if (founded) {\r\n    return products.map((product) =>\r\n      product.sku === founded.sku ? { ...product, amount: product.amount + 1 } : product\r\n    );\r\n  }\r\n  return [...products, { ...productToFound, amount: 1 }];\r\n};\r\n\r\nfunction findAndRemoveOrDecreaseAmount(products: Product[], sku: String): Product[] {\r\n  return products.reduce((acc, product): Product[] => {\r\n    if (product.sku === sku) {\r\n      //if i have already a product , we need to decrease the amount\r\n      if (product.amount > 1) {\r\n        return [...acc, { ...product, amount: product.amount - 1 }];\r\n      } else {\r\n        //if i found it but i have 1 amount , we need to don't add to acc\r\n        return acc;\r\n      }\r\n    } else {\r\n      //if i don't found it , return the acc\r\n      return acc;\r\n    }\r\n  }, [] as Product[]);\r\n}\r\n\r\nconst ShopReducer = (state: ShopStore, action: Action<TypeAction>): ShopStore => {\r\n  const { productList } = state;\r\n  const { products, totalPrice, count } = state.cartList;\r\n  switch (action.type) {\r\n    case 'ADD_TO_LIST':\r\n      return { ...state, productList: [...productList, action.payload as Product] };\r\n    case 'ADD_TO_CART':\r\n      const { price } = action.payload as Product;\r\n      return {\r\n        ...state,\r\n        cartList: {\r\n          products: findAndAddAmount(products, action.payload as Product),\r\n          count: count + 1,\r\n          totalPrice: totalPrice + price,\r\n        },\r\n      };\r\n    case 'REMOVE_TO_CART':\r\n      return {\r\n        ...state,\r\n        cartList: {\r\n          products: findAndRemoveOrDecreaseAmount(products, action.payload as String),\r\n          count: count - 1,\r\n          totalPrice: products.reduce((acc, item) => item.price * item.amount + acc, 0),\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default ShopReducer;\r\n","import React, { useReducer } from 'react';\r\nimport ProductList from '../ProductList/productList';\r\nimport Cart from '../Cart/Cart';\r\nimport { contextShopType } from '../../types/types';\r\nimport ShopReducer from '../../reducer/ShopReducer'\r\nimport { useProducts } from '../../hooks/useProducts';\r\nimport './Shop.css';\r\n\r\n\r\nexport const ShopContext = React.createContext({} as contextShopType);\r\n\r\nconst Shop: React.FC = () => {\r\n\r\n    const initialState = {\r\n        productList: [],\r\n        cartList: {\r\n            products: [],\r\n            totalPrice: 0,\r\n            count: 0\r\n        }\r\n    }\r\n    const [state, dispatch] = useReducer(ShopReducer, initialState);\r\n\r\n\r\n    const { loading, products } = useProducts();\r\n\r\n\r\n    return (\r\n        <ShopContext.Provider value={{ state, dispatch }} >\r\n            {!loading ? (<div className=\"shop-container\">\r\n                <ProductList products={products} />\r\n                {state.cartList.products.length ? (\r\n                    <Cart />\r\n                ) : <></>}\r\n            </div>) : <div> Loading...</div>\r\n            }\r\n        </ShopContext.Provider >\r\n    );\r\n\r\n}\r\n\r\nexport default Shop;","import { useEffect, useState } from 'react';\r\nimport { Product } from './../types/types';\r\n\r\nexport const useProducts = () => {\r\n  const [products, setProducts] = useState<Array<Product>>();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setProducts([\r\n        {\r\n          name: 'One Wipe Charlies 50 ct',\r\n          sku: 'GK-OWC-50C-CURRENT',\r\n          price: 5.5,\r\n          amount: 0,\r\n          assets: {\r\n            detail: {\r\n              file: {\r\n                url: 'https://dsc-cms.imgix.net/v1/qpbrd0hcmuyw/6HRiDZkSRdD3Zd1CXM7OoZ/6fb3d37a64d1a36cab83cd417eaffb21/GK-OWC-50C-CURRENT-DETAIL.png',\r\n              },\r\n            },\r\n          },\r\n        },\r\n        {\r\n          name: 'Shave Butter',\r\n          sku: 'ESB-6Z-CURRENT',\r\n          price: 8,\r\n          amount: 0,\r\n          assets: {\r\n            detail: {\r\n              file: {\r\n                url: 'https://dsc-cms.imgix.net/v1/qpbrd0hcmuyw/5R7KAYHTnaQU6M2COSKcWY/3e62da16c84627b2e6d66d590fc80c0d/ESB-6Z-1.png',\r\n              },\r\n            },\r\n          },\r\n        },\r\n        {\r\n          name: 'BLUEPRINT 101',\r\n          sku: 'BPF-50M-101-CURRENT',\r\n          price: 50,\r\n          amount: 0,\r\n          assets: {\r\n            detail: {\r\n              file: {\r\n                url: 'https://dsc-cms.imgix.net/v1/qpbrd0hcmuyw/4btR29Z9UkuM4e2CAwMSwo/bfc9214e22bc151a31aa723ea987986d/BPF-50M-101-CURRENT-PDPHEADER.png',\r\n              },\r\n            },\r\n          },\r\n        },\r\n      ]);\r\n      setLoading(false);\r\n    }, 800);\r\n  }, []);\r\n\r\n  return {\r\n    loading,\r\n    products,\r\n  };\r\n};\r\n","import './App.css';\nimport Shop from './components/Shop/Shop'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Shop></Shop>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}